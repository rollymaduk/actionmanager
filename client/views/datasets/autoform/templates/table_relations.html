<template name="afArrayField_tableRelation">
    <div class="box box-info">
        <div class="box-header">
            <h3 class="box-title">Relations</h3>
            <div class="pull-right box-tools">
              {{#if afArrayFieldHasLessThanMaximum name=this.atts.name minCount=this.atts.minCount maxCount=this.atts.maxCount}}

                      <button type="button" class="btn btn-sm btn-primary autoform-add-item" data-autoform-field="{{this.atts.name}}" data-autoform-minCount="{{this.atts.minCount}}" data-autoform-maxCount="{{this.atts.maxCount}}">
                          <i class="fa fa-plus"></i> Add new linkage</button>

              {{/if}}
            </div>
        </div>
        <div class="box-body">
            <div class="table-responsive">
                <table class="table table-condensed">
                    <tbody>
                    <tr>
                        <th>table</th><th>From</th><th>To</th><th></th>
                    </tr>
                    {{#afEachArrayItem name=this.atts.name minCount=this.atts.minCount maxCount=this.atts.maxCount}}
                        {{>relatedColumn}}
                    {{/afEachArrayItem}}
                    </tbody>
                </table>
            </div>
        </div>
    </div>


</template>
<template name="relatedColumn">
    <tr>
        <td>{{> afFieldInput class="small linktbl" name=this.current.table options=tables }}</td>
        <td>{{> afFieldInput class="small" name=this.current.from options=from }}</td>
        <td> {{> afFieldInput class="small"  name=this.current.to options=to }}</td>
        <td> {{#if afArrayFieldHasMoreThanMinimum name=../atts.name minCount=../atts.minCount maxCount=../atts.maxCount}}
            <a href="#" class="autoform-remove-item "><i class="fa fa-trash-o"></i></a>
        {{/if}}</td>
    </tr>
</template>
